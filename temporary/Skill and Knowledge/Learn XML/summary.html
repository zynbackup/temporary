<html>
<head>
<meta charset="UTF-8">

<style>
div.exampleOuter {
    border: 1px double gray;
}

div.exampleHeader {
    font-weight: bold;
}

div.exampleInner {
    background-color: #d5dee3;
	padding: 1px;
}

#star{
	 font-size: 20px;
	 font-weight: bold;
	 white-space: nowrap;
}

#comment{
	color: green;
}
</style>
</head>

<body>
source: <br/>
https://en.wikipedia.org/wiki/XML <br/>
https://www.w3schools.com/xml <br/>
https://www.liquid-technologies.com/xml-schema-tutorial/xsd-elements-attributes <br/>
https://www.w3.org/XML/Schema <br/>
http://www.xfront.com/xml-schema.html <br/>
http://www.xfront.com/xml-schema-1-1/index.html <br/>
https://en.wikipedia.org/wiki/XML_Schema_(W3C) <br/>
https://www.w3.org/standards/xml/schema <br/>
https://www.w3.org/standards/techs/xmlschema#w3c_all <br/>
https://stackoverflow.com/questions/19253402/how-to-reference-a-local-xml-schema-file-correctly <br/>

<h1>===Learn XML Summary===</h1>

<b>Goals of this learning: </b>
<ul>
<li><b>Understand what element should xml schema instance has. </b></li>
<li><b>Understand what attribute and its value should xml schema instance has. </b></li>
<li><b>Understand what data type should xml schema instance element has. </b></li>
</ul>

<br/>
Note: For understand the rule of writing XML document, read: https://www.w3schools.com/xml/xml_syntax.asp <br/><br/><br/>

<span id="star">*</span> XML (Extensible Markup Language), is a markup language that defines a set of rules for encoding documents in a format that is both human-readable and machine-readable. <br/><br/><br/>

<span id="star">*</span> XML was designed to store and transport data. <br/><br/><br/>

<span id="star">*</span> XML is often used for distributing data over the Internet. <br/><br/><br/>

<span id="star">*</span> XML does not truncate multiple white spaces character into single white space character. <br/><br/><br/>

<span id="star">*</span> XML use LF character for "new line". <br/><br/><br/>

<span id="star">*</span> XML same as HTML, which has element tag and its attribute. <br/><br/><br/>

<span id="star">*</span> There are 5 pre-defined entity references in XML: <br/>
&amp;lt; for &lt; character.<br/>
&amp;gt; for &gt character. <br/>
&amp;amp; for &amp; character. <br/>
&amp;apos; for &apos; character. <br/>
&amp;quot; for &quot character. <br/>

<br/><br/><br/>
<span id="star">*</span> You are free to define your own xml elements and attribute. <br/><br/><br/>

<span id="star">*</span> XML tag element are case sensitive. <br/><br/><br/>

<span id="star">*</span> XML elements can contains: text, attributes and it's value, and other elements. <br/><br/><br/>

<span id="star">*</span> Attribute value must be quoted either with single or double quotes. <br/><br/><br/>

<span id="star">*</span> An elements without content is an empty element. <br/><br/><br/>

<span id="star">*</span> Empty element could have attribute. <br/><br/><br/>

<span id="star">*</span> It is recommended that you put the metadata as an attribute of the elements, but the data itself should be stored as elements. br/>
Note: Metadata is a data that explaining another data. <br/><br/><br/>


<span id="star">*</span> This line is XML prolog: <br/>
<pre>&lt;?xml version="1.0" encoding="UTF-8"?&gt;</pre>

The XML prolog is optional. If it exists, it must come first in the document. It describe the encoding used to save the xml document. <br/><br/><br/>

<span id="star">*</span> Elements Name conflicts in XML can easily be avoided using a name prefix. <br/><br/><br/>

<span id="star">*</span> To use name prefix in html, a namespace for the prefix must be defined. <br/>
The namespace can be defined by an <code>xmlns</code> attribute in the start tag of an element.
The namespace declaration has the following syntax: <code>xmlns:prefix="URI"</code>. <br/><br/>
Example: <br/>
<pre>
&lt;?xml version="1.0" encoding="UTF-8"?&gt;

&lt;root&gt;

&lt;h:table xmlns:h="http://www.w3.org/TR/html4/"&gt;
  &lt;h:tr&gt;
    &lt;h:td&gt;Apples&lt;/h:td&gt;
    &lt;h:td&gt;Bananas&lt;/h:td&gt;
  &lt;/h:tr&gt;
&lt;/h:table&gt;

&lt;f:table xmlns:f="https://www.w3schools.com/furniture"&gt;
  &lt;f:name&gt;African Coffee Table&lt;/f:name&gt;
  &lt;f:width&gt;80&lt;/f:width&gt;
  &lt;f:length&gt;120&lt;/f:length&gt;
&lt;/f:table&gt;

&lt;/root&gt;
</pre>
Note: The namespace URI is not used by the parser to look up information. The purpose of using an URI is to give the namespace a unique name. However, companies often use the namespace as a pointer to a web page containing namespace information.

<br/><br/><br/>
<span id="star">*</span> When a namespace is defined for an element, all child elements with the same prefix are associated with the same namespace. <br/>

Example: <br/>
<pre>
&lt;?xml version="1.0" encoding="UTF-8"?&gt;

&lt;root xmlns:h="http://www.w3.org/TR/html4/" xmlns:f="https://www.w3schools.com/furniture"&gt;

&lt;h:table&gt;
  &lt;h:tr&gt;
    &lt;h:td&gt;Apples&lt;/h:td&gt;
    &lt;h:td&gt;Bananas&lt;/h:td&gt;
  &lt;/h:tr&gt;
&lt;/h:table&gt;

&lt;f:table&gt;
  &lt;f:name&gt;African Coffee Table&lt;/f:name&gt;
  &lt;f:width&gt;80&lt;/f:width&gt;
  &lt;f:length&gt;120&lt;/f:length&gt;
&lt;/f:table&gt;

&lt;/root&gt;
</pre>

<br/><br/>
<h2>===XML Schema===</h2>

<span id="star">*</span> An XML Schema describes the structure of an XML document. The XML Schema language is also referred to as <b>XML Schema Definition (XSD)</b>. XML Schema is an XML-based (and more powerful) alternative to DTD. <br/><br/>

<span id="star">*</span> XML Schema Definition (XSD) is currently the de facto standard for describing XML documents. <br/><br/>

<span id="star">*</span> An XSD is itself an XML document, and there is even an XSD to describe the XSD standard. See: https://www.w3.org/2001/XMLSchema.xsd <br/><br/>

<span id="star">*</span> Currently there are two version of XSD: XML Schema 1.0 and XML Schema 1.1 <br/><br/>

<span id="star">*</span> The purpose of an XML Schema is to define the legal building blocks of an XML document: <br/>
<ul>
<li>the elements and attributes that can appear in a document.</li>
<li>the number of (and order of) child elements.</li>
<li>data types for elements and attributes.</li>
<li>default and fixed values for elements and attributes.</li>
</ul>

<span id="star">*</span> The great strength of XML Schema are: <br/>
<ul>
<li>XML Schemas Support Data Types.</li>
<li>XML Schemas are extensible, because they are written in XML.</li>
<li>You can use your XML parser to parse your Schema files.</li>
<li>You can manipulate your Schema with the XML DOM.</li>
<li>You can transform your Schema with XSLT.</li>
</ul>

<span id="star">*</span> XML schema file name is usually ending with ".xsd". <br/><br/>

<span id="star">*</span> Usually, XML schema file (.xsd) and XML file (.xml) is kept in a separated document, and then, XML documents can have a reference to a DTD or to an XML Schema (XSD), then the XML parser (program) could use the information inside XSD file to validate the content of the XML file. <br/><br/>

<span id="star">*</span> The purpose of a schema is to define a class of XML documents, and so the term "<b>instance document</b>" is often used to describe an XML document that conforms to a particular schema. <br/><br/>

<span id="star">*</span> Read <b>https://www.w3.org/TR/xmlschema-0/</b> to see the complete reference of XSD Element tag, XSD attribute. <br/><br/>

<span id="star">*</span> All XML Schemas have "<b>schema</b>" as the root element, and its commonly used with the namespace. The prefix "<b>xsd:</b>" is used by convention to denote the XML Schema namespace, although any prefix can be used.
Because xml schema is an xml too, so the content of xsd file, will be validated against another schema. The declaration <b>"xmlns:xsd="http://www.w3.org/2001/XMLSchema"</b> will make any elements and types that is declared with prefix <b>"xsd:"</b>, will be validated against <b>"https://www.w3.org/2001/XMLSchema.xsd"</b> schema.
<br/><br/>
<div class="exampleOuter">
<div class="exampleHeader">Example (test.xsd)</div>
<div class="exampleInner">
<pre>
&lt;?xml version="1.0" encoding="UTF-8"?&gt; 
&lt;<b>xsd:schema xmlns:xsd="http://www.w3.org/2001/XMLSchema"</b>&gt;

&lt;/xsd:schema&gt;
</pre>
</div>
</div>

<br/><br/>
<div class="exampleOuter">
<div class="exampleHeader">Example 2 (test2.xsd)</div>
<div class="exampleInner">
<pre>
&lt;?xml version="1.0" encoding="UTF-8"?&gt; 
&lt;<b>xsd:schema xmlns:xsd="http://www.w3.org/2001/XMLSchema"</b>&gt;
&lt;xsd:element name="USAddress" &gt;
 &lt;xsd:complexType&gt;
  &lt;xsd:sequence&gt;
    &lt;xsd:element name="name" type="xsd:string"/&gt;
    &lt;xsd:element name="telephone_number" <b>type="xsd:varchar"</b>/&gt;
  &lt;/xsd:sequence&gt;
&lt;/xsd:complexType&gt;
&lt;/xsd:schema&gt;
</pre>
</div>
</div>
On Example 2, The xml validator will give error message, when validating test2.xsd, because "varchar" is not exist in "https://www.w3.org/2001/XMLSchema.xsd" schema.


<br/><br/><br/><br/>
<span id="star">*</span> The "xmlns" attribute specifies the <b>default namespace declaration</b>. 
The declaration in below XML fragment, 
tells the schema-validator that all the elements name and type declared in this XML document (except type with "xsd:" prefix) are associated with <b>"whatever"</b> namespace.
The <code>purchaseOrderType</code> and <code>USAddress</code> are associated with <b>"whatever"</b> namespace.
<br/><br/>
<div class="exampleOuter">
<div class="exampleHeader">Example</div>
<div class="exampleInner">
<pre>
&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;xsd:schema xmlns=<b>"whatever"</b> xmlns:xsd="http://www.w3.org/2001/XMLSchema" targetNamespace="whatever" elementFormDefault="qualified"&gt;
	
	&lt;xsd:element name=<b>"purchaseOrderType"</b>&gt;
		&lt;xsd:complexType&gt;
		&lt;xsd:sequence&gt;
			&lt;xsd:element name="email" type="xsd:string" /&gt;
			
			&lt;!--an instance schema that declare element &lt;shipTo&gt;, must declare the &lt;name&gt;,&lt;street&gt; and attribute country="US"--&gt;
			&lt;xsd:element name="shipTo" type=<b>"USAddress"</b> /&gt;
		&lt;/xsd:sequence&gt;
		&lt;/xsd:complexType&gt;
	&lt;/xsd:element&gt;
	
	&lt;!-- Declare a complexType name "USAddress" in XML schema --&gt;
	&lt;xsd:complexType name=<b>"USAddress"</b>&gt;
		
		&lt;xsd:sequence&gt;
			&lt;xsd:element name="name" type="xsd:string" /&gt;
			&lt;xsd:element name="street" type="xsd:string" /&gt;
		&lt;/xsd:sequence&gt;
		&lt;xsd:attribute name="country" type="xsd:NMTOKEN" fixed="US"/&gt;
	&lt;/xsd:complexType&gt;
	
&lt;/xsd:schema&gt;
</pre>
</div>
</div>

<br/>
<span id="star">*</span> The "<b>targetNameSpace</b>" attribute in &lt;xsd:schema&gt; is to refer to the specific namespace. It is used if there is a type that refer to another type in this xml. 
It is used to control the validation of corresponding namespaces in the schema instance too.
<br/><br/>
<div class="exampleOuter">
<div class="exampleHeader">Example </div>
<div class="exampleInner">
<pre>
&lt;?xml version="1.0" encoding="UTF-8"?&gt; 
&lt;xsd:schema <b>xmlns="http://this-namespace"</b> xmlns:xsd="http://www.w3.org/2001/XMLSchema" <b>targetNameSpace="http://this-namespace"</b>&gt;

	&lt;xsd:element name=<b>"purchaseOrderType"</b>&gt;
		&lt;xsd:complexType&gt;
		&lt;xsd:sequence&gt;
			&lt;xsd:element name="email" type="xsd:string" /&gt;
			
			<span id="comment">&lt;!--When the xml validator encounter below code, the xml validator then will search the "USAddress" type, <br/> 
			in the namespace that declared on the "targetNamespace" attribute, which is "http://this-namespace". <br/>
			Since the default namespace declared in this xsd file is "http://this-namespace" too, then it will refer to <b>&lt;xsd:complexType name="USAddress"</span></b>--&gt;
			&lt;xsd:element name="shipTo" type=<b>"USAddress"</b> /&gt;
		&lt;/xsd:sequence&gt;
		&lt;/xsd:complexType&gt;
	&lt;/xsd:element&gt;
	
	&lt;!-- Declare a complexType name "USAddress" in XML schema --&gt;
	&lt;xsd:complexType name=<b>"USAddress"</b>&gt;
		
		&lt;xsd:sequence&gt;
			&lt;xsd:element name="name" type="xsd:string" /&gt;
			&lt;xsd:element name="street" type="xsd:string" /&gt;
		&lt;/xsd:sequence&gt;
		&lt;xsd:attribute name="country" type="xsd:NMTOKEN" fixed="US"/&gt;
	&lt;/xsd:complexType&gt;

&lt;/xsd:schema&gt;
</pre>
</div>
</div>
note: The XML instance of this schema must use "http://this-namespace" namespace, in their declaration of default namespace (xmnls="http://this-namespace") <br/>

<br/><br/><br/>
<span id="star">*</span> Elements that contain subelements or carry attributes are said to have <b>complex types</b>.
<br/>
<span id="star">*</span> Elements that contain text (and strings, and dates, etc.) but do not contain any subelements and attributes are said to have <b>simple types</b>.
<br/>
<span id="star">*</span> The <b>complex types</b> and <b>simple types</b> in the instance document, are defined in the XML schema (XSD). The other simple types are defined as part of XML Schema's repertoire of built-in simple types.
<br/>
<span id="star">*</span> The prefix "<b>xsd:</b>", also appears on the names of built-in simple types, for example: "<b>xsd:string</b>". The purpose of the prefix is to identify the elements and simple types as belonging to the vocabulary of the XML Schema language rather than the vocabulary of the schema author.
<br/><br/>

<div class="exampleOuter">
<div class="exampleHeader">Example</div>Defining the "USAddress" Type
<div class="exampleInner">
<pre>
&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;xsd:schema xmlns:xsd="http://www.w3.org/2001/XMLSchema" targetNameSpace="http://us-address"&gt;

&lt;!-- Define the "USAddress" type, which could contains attribute, and another element, that could be used in this xml to be passed as a value in type attribute --&gt;
&lt;xsd:complexType name="USAddress" &gt;
  &lt;xsd:sequence&gt;
    &lt;xsd:element name="name"   type="xsd:string"/&gt;
    &lt;xsd:element name="street" type="xsd:string"/&gt;
    &lt;xsd:element name="city"   type="xsd:string"/&gt;
    &lt;xsd:element name="state"  type="xsd:string"/&gt;
    &lt;xsd:element name="zip"    type="xsd:decimal"/&gt;
  &lt;/xsd:sequence&gt;
  &lt;!-- Inside instance schema, country attribute's value could only be filled with string "US" (&lt;USAddress country="US"&gt;)--&gt;
  &lt;xsd:attribute name="country" type="xsd:NMTOKEN" fixed="US"/&gt;
&lt;/xsd:complexType&gt;
&lt;/xsd:schema&gt;
</pre>
</div>
</div>
The consequence of this definition is that any element appearing in an instance whose type is declared to be "USAddress" must consist of five elements and one attribute. 
These elements must be called "name", "street", "city", "state" and "zip" as specified by the values of the declarations' name attributes, and the elements must appear in the same sequence (order) in which they are declared. 
The first four of these elements will each contain a string, and the fifth will contain a number. The element whose type is declared to be "USAddress" may appear with an attribute called country which must contain the string "US".


<br><br/><br/><br><br/><br/>
<span id="star">*</span> The effect of this &lt;include&gt; element is to bring in the definitions and declarations contained in the specified <code>schemaLocation</code>.
<br/><br/>
<div class="exampleOuter">
<div class="exampleHeader">Example</div>
<div class="exampleInner"><pre>&lt;xsd:include schemaLocation="http://36.84.130.230:80/my-server/another_schema.xsd"&gt;</pre></div>
</div>
<br/><br/>


<span id="star">*</span> If the <code>schemaLocation</code> value is only provided with the file name, then the xml validator program will search a file name "another_schema.xsd" using html relative path.
<div class="exampleOuter">
<div class="exampleHeader">Example (my_schema.xsd)</div>
<div class="exampleInner">
<pre>
&lt;?xml version="1.0" encoding="UTF-8"?&gt; 
&lt;xsd:schema xmlns:xsd="http://www.w3.org/2001/XMLSchema" targetNameSpace="http://this-namespace"&gt;

	&lt;xsd:include <b>schemaLocation="another_schema.xsd"</b>/&gt;

&lt;/xsd:schema&gt;
</pre>
</div>
</div>
Example:<br/>
1. The "my_schema.xsd" file could be accessed using http request to "http://36.84.130.230:80/my-server/my_schema.xsd" 
<br/>
2. Then, the XML validator, will get the definition and declarations contained in file "another_schema.xsd", by requesting to url: "http://36.84.130.230:80/my-server/another_schema.xsd"

<br><br/><br/>
<span id="star">*</span> You can make a reference to XML schema locally, using <b>"file:///path/to/file.xsd"</b>
<br/>
<div class="exampleOuter">
<div class="exampleHeader">Example (us_address.xsd). </div>This file saved in directory: "C:/Users/reinard.santosa/git/git/src/main/webapp/us_address.xsd"</div>
<div class="exampleInner">
<pre>
&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;xsd:schema xmlns="http://www.w3.org/2001/XMLSchema" xmlns:xsd="http://www.w3.org/2001/XMLSchema" targetNamespace="http://us-address" elementFormDefault="qualified"&gt;

&lt;xsd:complexType name="test"&gt;&lt;/xsd:complexType&gt;

&lt;xsd:element name="USAddress" &gt;
 &lt;xsd:complexType&gt;
  &lt;xsd:sequence&gt;
    &lt;xsd:element name="name"   type="xsd:string"/&gt;
    &lt;xsd:element name="street" type="xsd:string"/&gt;
  &lt;/xsd:sequence&gt;
&lt;/xsd:complexType&gt;
&lt;/xsd:element&gt;
&lt;/xsd:schema&gt;
</pre>
</div>
</div>

<br/>
<div class="exampleOuter">
<div class="exampleHeader">Example (us_address.xml)</div>
<div class="exampleInner">
<pre>
&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;USAddress xmlns="http://us-address" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="http://us-address <b>file:///C:/Users/reinard.santosa/git/git/src/main/webapp/us_address.xsd"</b>&gt;
	
	&lt;name&gt;asd&lt;/name&gt;
	&lt;street&gt;oak&lt;/street&gt;

&lt;/USAddress&gt;
</pre>
</div>
</div>

</body>

</html>